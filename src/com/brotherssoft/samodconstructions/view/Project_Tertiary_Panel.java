/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.brotherssoft.samodconstructions.view;

import com.brotherssoft.samodconstructions.controller.M_Project_PrimaryController;
import com.brotherssoft.samodconstructions.controller.M_Project_ThirdController;
import com.brotherssoft.samodconstructions.custom.AmountFieldFormat;
import com.brotherssoft.samodconstructions.custom.Validation;
import com.brotherssoft.samodconstructions.model.M_Project_Primary;
import com.brotherssoft.samodconstructions.model.M_Project_Third;
import com.brotherssoft.samodconstructions.serverconnector.ServerConnector;
import java.awt.Color;
import java.text.DecimalFormat;
import java.util.Date;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Akvasoft
 */
public class Project_Tertiary_Panel extends javax.swing.JPanel {

    M_Project_ThirdController thirdController;
    M_Project_PrimaryController primaryController;
    DefaultTableModel dtmThird;

    M_Project_Third third = null;
    AmountFieldFormat fieldFormat = new AmountFieldFormat();
    DecimalFormat decimalFormat = new DecimalFormat("#,##0.00");

    /**
     * Creates new form Project_Tertiary_Panel
     */
    public Project_Tertiary_Panel() throws Exception {
        initComponents();
        btn_save_third_project.setEnabled(false);
        dp_take_over_date.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_completed_date.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_hand_over_date.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_retain_Valid_Period_From.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_retain_Valid_Period_To.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_retain_releaseDate.setFormats("yyyy-MM-dd","yyyy/MM/dd");

        thirdController = ServerConnector.getServerConnetor().getThirdController();
        primaryController = ServerConnector.getServerConnetor().getPrimary_ProjectController();
        dtmThird = (DefaultTableModel) tblFinalProject.getModel();

        loadProjectTable();
        cmbLiqDamageAction();
        cmbRetentionAction();
        cmbRetentionReleaseAction();

    }

    Project_Tertiary_Panel(int projectId) throws Exception {
        initComponents();
        dp_take_over_date.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_completed_date.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_hand_over_date.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_retain_Valid_Period_From.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_retain_Valid_Period_To.setFormats("yyyy-MM-dd","yyyy/MM/dd");
        dp_retain_releaseDate.setFormats("yyyy-MM-dd","yyyy/MM/dd");

        thirdController = ServerConnector.getServerConnetor().getThirdController();
        primaryController = ServerConnector.getServerConnetor().getPrimary_ProjectController();
        dtmThird = (DefaultTableModel) tblFinalProject.getModel();

        loadProjectTable();
        loadProjectTable();
        cmbLiqDamageAction();
        cmbRetentionAction();
        cmbRetentionReleaseAction();

        third = thirdController.searchThird(projectId);
        loadFeilsFromSearch();

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        Project_Tertiary_Info_Panel = new javax.swing.JPanel();
        user_panel_hedding6 = new javax.swing.JPanel();
        jLabel82 = new javax.swing.JLabel();
        jLabel83 = new javax.swing.JLabel();
        jSeparator18 = new javax.swing.JSeparator();
        jScrollPane11 = new javax.swing.JScrollPane();
        txt_Input_Panel_Branch4 = new javax.swing.JPanel();
        btn_save_third_project = new javax.swing.JButton();
        jLabel122 = new javax.swing.JLabel();
        jLabel123 = new javax.swing.JLabel();
        jLabel124 = new javax.swing.JLabel();
        jLabel126 = new javax.swing.JLabel();
        txt_total = new javax.swing.JTextField();
        jSeparator28 = new javax.swing.JSeparator();
        btn_to_secondary_project = new javax.swing.JButton();
        txt_boq = new javax.swing.JTextField();
        txt_vatPercentage = new javax.swing.JTextField();
        jLabel141 = new javax.swing.JLabel();
        jLabel146 = new javax.swing.JLabel();
        txt_req_period = new javax.swing.JTextField();
        jLabel148 = new javax.swing.JLabel();
        txt_approved_period = new javax.swing.JTextField();
        jSeparator30 = new javax.swing.JSeparator();
        jLabel147 = new javax.swing.JLabel();
        txt_retain_amount = new javax.swing.JTextField();
        lbl_retention_amount = new javax.swing.JLabel();
        lbl_retention_validFrom = new javax.swing.JLabel();
        dp_retain_Valid_Period_From = new org.jdesktop.swingx.JXDatePicker();
        dp_retain_Valid_Period_To = new org.jdesktop.swingx.JXDatePicker();
        lbl_retention_validTo = new javax.swing.JLabel();
        cmb_Liquidity_Damage = new javax.swing.JComboBox<>();
        jLabel161 = new javax.swing.JLabel();
        cmb_retention_release = new javax.swing.JComboBox<>();
        jLabel127 = new javax.swing.JLabel();
        txt_exceed = new javax.swing.JTextField();
        txt_extra_work = new javax.swing.JTextField();
        jLabel128 = new javax.swing.JLabel();
        txt_price_excallation = new javax.swing.JTextField();
        jLabel129 = new javax.swing.JLabel();
        jLabel139 = new javax.swing.JLabel();
        dp_take_over_date = new org.jdesktop.swingx.JXDatePicker();
        dp_completed_date = new org.jdesktop.swingx.JXDatePicker();
        jLabel140 = new javax.swing.JLabel();
        dp_hand_over_date = new org.jdesktop.swingx.JXDatePicker();
        jLabel142 = new javax.swing.JLabel();
        jLabel162 = new javax.swing.JLabel();
        jLabel163 = new javax.swing.JLabel();
        jLabel164 = new javax.swing.JLabel();
        cmb_Completion_Certification = new javax.swing.JComboBox<>();
        jSeparator32 = new javax.swing.JSeparator();
        jLabel165 = new javax.swing.JLabel();
        jSeparator33 = new javax.swing.JSeparator();
        jLabel166 = new javax.swing.JLabel();
        cmb_Retention = new javax.swing.JComboBox<>();
        cmb_Retain_mode = new javax.swing.JComboBox<>();
        lbl_retention_mode = new javax.swing.JLabel();
        lbl_retenton_org = new javax.swing.JLabel();
        txt_retain_organization = new javax.swing.JTextField();
        jSeparator34 = new javax.swing.JSeparator();
        jLabel169 = new javax.swing.JLabel();
        lbl_liq_damagePeriod = new javax.swing.JLabel();
        txt_liquidityDamage_period = new javax.swing.JTextField();
        lbl_liq_damageAmount = new javax.swing.JLabel();
        txt_liquidityDamage_amount = new javax.swing.JTextField();
        lbl_retention_releaseAmount = new javax.swing.JLabel();
        txt_retain_releaseAmount = new javax.swing.JTextField();
        lbl_retention_releaseDate = new javax.swing.JLabel();
        dp_retain_releaseDate = new org.jdesktop.swingx.JXDatePicker();
        jLabel170 = new javax.swing.JLabel();
        cmb_current_status = new javax.swing.JComboBox<>();
        lbl_projectName = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        lblDamagePeriodMonth = new javax.swing.JLabel();
        btn_new_third_project1 = new javax.swing.JButton();
        txt_vat = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jLabel125 = new javax.swing.JLabel();
        txt_nbtPercentage = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        txt_nbt = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        jScrollPane12 = new javax.swing.JScrollPane();
        tblFinalProject = new javax.swing.JTable();
        txt_search_name_ = new javax.swing.JTextField();

        Project_Tertiary_Info_Panel.setBackground(new java.awt.Color(255, 255, 255));
        Project_Tertiary_Info_Panel.setPreferredSize(new java.awt.Dimension(1050, 710));

        user_panel_hedding6.setBackground(new java.awt.Color(122, 72, 222));

        jLabel82.setBackground(new java.awt.Color(255, 255, 255));
        jLabel82.setFont(new java.awt.Font("Times New Roman", 3, 18)); // NOI18N
        jLabel82.setForeground(new java.awt.Color(204, 204, 255));
        jLabel82.setText("Administrations / System Management / Master Details /");

        jLabel83.setFont(new java.awt.Font("Segoe UI", 3, 24)); // NOI18N
        jLabel83.setForeground(new java.awt.Color(204, 204, 204));
        jLabel83.setText("Project Tertiary Infomations");

        javax.swing.GroupLayout user_panel_hedding6Layout = new javax.swing.GroupLayout(user_panel_hedding6);
        user_panel_hedding6.setLayout(user_panel_hedding6Layout);
        user_panel_hedding6Layout.setHorizontalGroup(
            user_panel_hedding6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(user_panel_hedding6Layout.createSequentialGroup()
                .addGroup(user_panel_hedding6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(user_panel_hedding6Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLabel82, javax.swing.GroupLayout.PREFERRED_SIZE, 531, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(user_panel_hedding6Layout.createSequentialGroup()
                        .addGap(39, 39, 39)
                        .addComponent(jLabel83)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jSeparator18, javax.swing.GroupLayout.PREFERRED_SIZE, 702, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        user_panel_hedding6Layout.setVerticalGroup(
            user_panel_hedding6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(user_panel_hedding6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel82, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(user_panel_hedding6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel83)
                    .addComponent(jSeparator18, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(33, Short.MAX_VALUE))
        );

        jScrollPane11.setBorder(null);
        jScrollPane11.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        jScrollPane11.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);

        txt_Input_Panel_Branch4.setBackground(new java.awt.Color(255, 255, 255));
        txt_Input_Panel_Branch4.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Project Details", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 3, 14))); // NOI18N

        btn_save_third_project.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        btn_save_third_project.setText("Save");
        btn_save_third_project.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_save_third_projectActionPerformed(evt);
            }
        });

        jLabel122.setBackground(new java.awt.Color(102, 102, 255));
        jLabel122.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel122.setForeground(new java.awt.Color(255, 255, 255));
        jLabel122.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel122.setText("Project Final Value");
        jLabel122.setOpaque(true);

        jLabel123.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel123.setText("BOQ");

        jLabel124.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel124.setText("VAT");

        jLabel126.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel126.setText("Total");

        txt_total.setEditable(false);
        txt_total.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        txt_total.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_totalMouseClicked(evt);
            }
        });
        txt_total.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_totalActionPerformed(evt);
            }
        });
        txt_total.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_totalKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_totalKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_totalKeyTyped(evt);
            }
        });

        btn_to_secondary_project.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        btn_to_secondary_project.setText("To Project Secondary Infomation");
        btn_to_secondary_project.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_to_secondary_projectActionPerformed(evt);
            }
        });

        txt_boq.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_boq.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_boqMouseClicked(evt);
            }
        });
        txt_boq.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_boqActionPerformed(evt);
            }
        });
        txt_boq.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_boqKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_boqKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_boqKeyTyped(evt);
            }
        });

        txt_vatPercentage.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_vatPercentage.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_vatPercentageMouseClicked(evt);
            }
        });
        txt_vatPercentage.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_vatPercentageActionPerformed(evt);
            }
        });
        txt_vatPercentage.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_vatPercentageKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_vatPercentageKeyReleased(evt);
            }
        });

        jLabel141.setBackground(new java.awt.Color(102, 102, 255));
        jLabel141.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel141.setForeground(new java.awt.Color(255, 255, 255));
        jLabel141.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel141.setText("Time Extention");
        jLabel141.setOpaque(true);

        jLabel146.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel146.setText("Required Period");

        txt_req_period.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_req_period.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_req_periodActionPerformed(evt);
            }
        });
        txt_req_period.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_req_periodKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_req_periodKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_req_periodKeyTyped(evt);
            }
        });

        jLabel148.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel148.setText("Approved Period");

        txt_approved_period.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_approved_period.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_approved_periodMouseClicked(evt);
            }
        });
        txt_approved_period.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_approved_periodActionPerformed(evt);
            }
        });
        txt_approved_period.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_approved_periodKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_approved_periodKeyReleased(evt);
            }
        });

        jLabel147.setBackground(new java.awt.Color(102, 102, 255));
        jLabel147.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel147.setForeground(new java.awt.Color(255, 255, 255));
        jLabel147.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel147.setText("Liquidity Damage");
        jLabel147.setOpaque(true);

        txt_retain_amount.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_retain_amount.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_retain_amountMouseClicked(evt);
            }
        });
        txt_retain_amount.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_retain_amountActionPerformed(evt);
            }
        });
        txt_retain_amount.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_retain_amountKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_retain_amountKeyReleased(evt);
            }
        });

        lbl_retention_amount.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_retention_amount.setText("Amount");

        lbl_retention_validFrom.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_retention_validFrom.setText("Valid Period From");

        dp_retain_Valid_Period_From.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dp_retain_Valid_Period_FromActionPerformed(evt);
            }
        });

        dp_retain_Valid_Period_To.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dp_retain_Valid_Period_ToActionPerformed(evt);
            }
        });

        lbl_retention_validTo.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_retention_validTo.setText("Valid Period To");

        cmb_Liquidity_Damage.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        cmb_Liquidity_Damage.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "NOT APPLICABLE", "APPLICABLE" }));
        cmb_Liquidity_Damage.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                cmb_Liquidity_DamageMouseClicked(evt);
            }
        });
        cmb_Liquidity_Damage.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmb_Liquidity_DamageActionPerformed(evt);
            }
        });

        jLabel161.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel161.setText("Retention Release");

        cmb_retention_release.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        cmb_retention_release.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "NOT APPLICABLE", "APPLICABLE RELEASED", "APPLICABLE NOT RELEASED" }));
        cmb_retention_release.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmb_retention_releaseActionPerformed(evt);
            }
        });

        jLabel127.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel127.setText("Exceed");

        txt_exceed.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_exceed.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_exceedMouseClicked(evt);
            }
        });
        txt_exceed.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_exceedActionPerformed(evt);
            }
        });
        txt_exceed.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_exceedKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_exceedKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_exceedKeyTyped(evt);
            }
        });

        txt_extra_work.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_extra_work.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_extra_workMouseClicked(evt);
            }
        });
        txt_extra_work.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_extra_workActionPerformed(evt);
            }
        });
        txt_extra_work.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_extra_workKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_extra_workKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_extra_workKeyTyped(evt);
            }
        });

        jLabel128.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel128.setText("Extra Work");

        txt_price_excallation.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_price_excallation.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_price_excallationMouseClicked(evt);
            }
        });
        txt_price_excallation.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_price_excallationActionPerformed(evt);
            }
        });
        txt_price_excallation.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_price_excallationKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_price_excallationKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_price_excallationKeyTyped(evt);
            }
        });

        jLabel129.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel129.setText("Price Escallation");

        jLabel139.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel139.setText("Date of Take Over");

        dp_take_over_date.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                dp_take_over_dateMouseClicked(evt);
            }
        });
        dp_take_over_date.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dp_take_over_dateActionPerformed(evt);
            }
        });

        dp_completed_date.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dp_completed_dateActionPerformed(evt);
            }
        });

        jLabel140.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel140.setText("Date of Completed");

        dp_hand_over_date.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dp_hand_over_dateActionPerformed(evt);
            }
        });

        jLabel142.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel142.setText("Date of Hand Over");

        jLabel162.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel162.setText("Liquidity Damage");

        jLabel163.setBackground(new java.awt.Color(102, 102, 255));
        jLabel163.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel163.setForeground(new java.awt.Color(255, 255, 255));
        jLabel163.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel163.setText("Completion Certification");
        jLabel163.setOpaque(true);

        jLabel164.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel164.setText("Completion Certification");

        cmb_Completion_Certification.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        cmb_Completion_Certification.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "NOT APPLICABLE", "APPLICABLE RECEIVED", "APPLICABLE NOT RECEIVED" }));
        cmb_Completion_Certification.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                cmb_Completion_CertificationMouseClicked(evt);
            }
        });
        cmb_Completion_Certification.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmb_Completion_CertificationActionPerformed(evt);
            }
        });

        jLabel165.setBackground(new java.awt.Color(102, 102, 255));
        jLabel165.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel165.setForeground(new java.awt.Color(255, 255, 255));
        jLabel165.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel165.setText("Retention");
        jLabel165.setOpaque(true);

        jLabel166.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel166.setText("Retention");

        cmb_Retention.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        cmb_Retention.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "NOT APPLICABLE", "APPLICABLE" }));
        cmb_Retention.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmb_RetentionActionPerformed(evt);
            }
        });

        cmb_Retain_mode.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        cmb_Retain_mode.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "- Select Retain Mode -", "CASH", "BOND" }));
        cmb_Retain_mode.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmb_Retain_modeActionPerformed(evt);
            }
        });

        lbl_retention_mode.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_retention_mode.setText("Retain Mode");

        lbl_retenton_org.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_retenton_org.setText("Organization");

        txt_retain_organization.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_retain_organization.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_retain_organizationMouseClicked(evt);
            }
        });
        txt_retain_organization.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_retain_organizationActionPerformed(evt);
            }
        });
        txt_retain_organization.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_retain_organizationKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_retain_organizationKeyReleased(evt);
            }
        });

        jLabel169.setBackground(new java.awt.Color(102, 102, 255));
        jLabel169.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel169.setForeground(new java.awt.Color(255, 255, 255));
        jLabel169.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel169.setText("Retention Release");
        jLabel169.setOpaque(true);

        lbl_liq_damagePeriod.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_liq_damagePeriod.setText("Damage Period");

        txt_liquidityDamage_period.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_liquidityDamage_period.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_liquidityDamage_periodActionPerformed(evt);
            }
        });
        txt_liquidityDamage_period.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_liquidityDamage_periodKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_liquidityDamage_periodKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_liquidityDamage_periodKeyTyped(evt);
            }
        });

        lbl_liq_damageAmount.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_liq_damageAmount.setText("Damage Amount");

        txt_liquidityDamage_amount.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_liquidityDamage_amount.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_liquidityDamage_amountMouseClicked(evt);
            }
        });
        txt_liquidityDamage_amount.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_liquidityDamage_amountActionPerformed(evt);
            }
        });
        txt_liquidityDamage_amount.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_liquidityDamage_amountKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_liquidityDamage_amountKeyReleased(evt);
            }
        });

        lbl_retention_releaseAmount.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_retention_releaseAmount.setText("Release Amount");

        txt_retain_releaseAmount.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_retain_releaseAmount.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_retain_releaseAmountMouseClicked(evt);
            }
        });
        txt_retain_releaseAmount.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_retain_releaseAmountActionPerformed(evt);
            }
        });
        txt_retain_releaseAmount.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_retain_releaseAmountKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_retain_releaseAmountKeyReleased(evt);
            }
        });

        lbl_retention_releaseDate.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lbl_retention_releaseDate.setText("Release Date");

        dp_retain_releaseDate.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                dp_retain_releaseDateMouseClicked(evt);
            }
        });
        dp_retain_releaseDate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dp_retain_releaseDateActionPerformed(evt);
            }
        });

        jLabel170.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel170.setText("Current Status");

        cmb_current_status.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        cmb_current_status.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "PENDING", "APPROVED", "ONGOING", "COMPLETED" }));
        cmb_current_status.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmb_current_statusActionPerformed(evt);
            }
        });

        lbl_projectName.setBackground(new java.awt.Color(255, 255, 255));
        lbl_projectName.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        lbl_projectName.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);

        jLabel1.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel1.setText("Months");

        jLabel2.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel2.setText("Months");

        lblDamagePeriodMonth.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        lblDamagePeriodMonth.setText("Months");

        btn_new_third_project1.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        btn_new_third_project1.setText("New");
        btn_new_third_project1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_new_third_project1ActionPerformed(evt);
            }
        });

        txt_vat.setEditable(false);
        txt_vat.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_vat.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txt_vat.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_vatMouseClicked(evt);
            }
        });
        txt_vat.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_vatActionPerformed(evt);
            }
        });
        txt_vat.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_vatKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_vatKeyReleased(evt);
            }
        });

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel3.setText("%");

        jLabel125.setFont(new java.awt.Font("Segoe UI", 3, 14)); // NOI18N
        jLabel125.setText("NBT");

        txt_nbtPercentage.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_nbtPercentage.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_nbtPercentageMouseClicked(evt);
            }
        });
        txt_nbtPercentage.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_nbtPercentageActionPerformed(evt);
            }
        });
        txt_nbtPercentage.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_nbtPercentageKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_nbtPercentageKeyReleased(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel4.setText("%");

        txt_nbt.setEditable(false);
        txt_nbt.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        txt_nbt.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txt_nbt.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_nbtMouseClicked(evt);
            }
        });
        txt_nbt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_nbtActionPerformed(evt);
            }
        });
        txt_nbt.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_nbtKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_nbtKeyReleased(evt);
            }
        });

        javax.swing.GroupLayout txt_Input_Panel_Branch4Layout = new javax.swing.GroupLayout(txt_Input_Panel_Branch4);
        txt_Input_Panel_Branch4.setLayout(txt_Input_Panel_Branch4Layout);
        txt_Input_Panel_Branch4Layout.setHorizontalGroup(
            txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(14, 14, 14)
                        .addComponent(jLabel122, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel123, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(106, 106, 106)
                        .addComponent(txt_boq, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel127)
                        .addGap(107, 107, 107)
                        .addComponent(txt_exceed, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel128, javax.swing.GroupLayout.PREFERRED_SIZE, 82, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(68, 68, 68)
                        .addComponent(txt_extra_work, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel129)
                        .addGap(46, 46, 46)
                        .addComponent(txt_price_excallation, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel139, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(dp_take_over_date, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel140, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(dp_completed_date, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel142, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(dp_hand_over_date, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jSeparator28, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel141, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jSeparator30, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel147, javax.swing.GroupLayout.PREFERRED_SIZE, 173, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel162, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(cmb_Liquidity_Damage, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jSeparator32, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel163, javax.swing.GroupLayout.PREFERRED_SIZE, 173, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel164)
                        .addGap(4, 4, 4)
                        .addComponent(cmb_Completion_Certification, javax.swing.GroupLayout.PREFERRED_SIZE, 348, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jSeparator33, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel165, javax.swing.GroupLayout.PREFERRED_SIZE, 173, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel166, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(cmb_Retention, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(lbl_retention_mode, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(cmb_Retain_mode, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(lbl_retention_amount, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(txt_retain_amount, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(lbl_retenton_org, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(txt_retain_organization, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(lbl_retention_validFrom)
                        .addGap(33, 33, 33)
                        .addComponent(dp_retain_Valid_Period_From, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(lbl_retention_validTo, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(dp_retain_Valid_Period_To, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jSeparator34, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel169, javax.swing.GroupLayout.PREFERRED_SIZE, 173, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel161, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(4, 4, 4)
                        .addComponent(cmb_retention_release, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                .addComponent(lbl_liq_damagePeriod, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txt_liquidityDamage_period)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(lblDamagePeriodMonth))
                            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                .addComponent(lbl_liq_damageAmount, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(4, 4, 4)
                                .addComponent(txt_liquidityDamage_amount, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                .addComponent(lbl_retention_releaseAmount, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(4, 4, 4)
                                .addComponent(txt_retain_releaseAmount, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                .addComponent(lbl_retention_releaseDate)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(dp_retain_releaseDate, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                .addComponent(jLabel146, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txt_req_period, javax.swing.GroupLayout.DEFAULT_SIZE, 308, Short.MAX_VALUE))
                            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                .addComponent(jLabel148, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txt_approved_period)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel1)
                            .addComponent(jLabel2)))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addComponent(btn_to_secondary_project)
                        .addGap(31, 31, 31)
                        .addComponent(btn_save_third_project, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(btn_new_third_project1, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                .addComponent(jLabel170, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(cmb_current_status, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addComponent(lbl_projectName, javax.swing.GroupLayout.PREFERRED_SIZE, 509, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                .addComponent(jLabel125, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(105, 105, 105)
                                .addComponent(txt_nbtPercentage, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel4)
                                .addGap(18, 18, 18)
                                .addComponent(txt_nbt, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                    .addComponent(jLabel124, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGap(105, 105, 105)
                                    .addComponent(txt_vatPercentage, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(jLabel3)
                                    .addGap(18, 18, 18)
                                    .addComponent(txt_vat))
                                .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                                    .addComponent(jLabel126, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGap(105, 105, 105)
                                    .addComponent(txt_total, javax.swing.GroupLayout.PREFERRED_SIZE, 359, javax.swing.GroupLayout.PREFERRED_SIZE))))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        txt_Input_Panel_Branch4Layout.setVerticalGroup(
            txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbl_projectName, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel170, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmb_current_status, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jLabel122, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(16, 16, 16)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel123, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_boq, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel127, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_exceed, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel128, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_extra_work, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel129, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_price_excallation, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel125, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txt_nbtPercentage, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(txt_nbt, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel124, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txt_vatPercentage, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(txt_vat, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(txt_Input_Panel_Branch4Layout.createSequentialGroup()
                        .addGap(2, 2, 2)
                        .addComponent(jLabel126, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(txt_total, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel139, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dp_take_over_date, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel140, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dp_completed_date, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel142, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dp_hand_over_date, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addComponent(jSeparator28, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(6, 6, 6)
                .addComponent(jLabel141, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(11, 11, 11)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel146, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txt_req_period)
                        .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel148, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txt_approved_period, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGap(11, 11, 11)
                .addComponent(jSeparator30, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(6, 6, 6)
                .addComponent(jLabel147, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(11, 11, 11)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel162, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmb_Liquidity_Damage, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_liq_damagePeriod, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txt_liquidityDamage_period, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(lblDamagePeriodMonth, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_liq_damageAmount, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_liquidityDamage_amount, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jSeparator32, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(6, 6, 6)
                .addComponent(jLabel163, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(11, 11, 11)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel164, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmb_Completion_Certification, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jSeparator33, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(6, 6, 6)
                .addComponent(jLabel165, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(11, 11, 11)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel166, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmb_Retention, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_retention_mode, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmb_Retain_mode, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_retention_amount, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_retain_amount, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_retenton_org, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_retain_organization, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_retention_validFrom, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dp_retain_Valid_Period_From, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_retention_validTo, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dp_retain_Valid_Period_To, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addComponent(jSeparator34, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(6, 6, 6)
                .addComponent(jLabel169, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(11, 11, 11)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel161, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmb_retention_release, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_retention_releaseAmount, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_retain_releaseAmount, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbl_retention_releaseDate, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dp_retain_releaseDate, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(txt_Input_Panel_Branch4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btn_to_secondary_project)
                    .addComponent(btn_save_third_project)
                    .addComponent(btn_new_third_project1)))
        );

        jScrollPane11.setViewportView(txt_Input_Panel_Branch4);

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Current Primary Projects", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 1, 14))); // NOI18N

        jScrollPane12.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);

        tblFinalProject.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null},
                {null}
            },
            new String [] {
                "Project Name"
            }
        ));
        tblFinalProject.setGridColor(new java.awt.Color(255, 255, 255));
        tblFinalProject.setOpaque(false);
        tblFinalProject.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblFinalProjectMouseClicked(evt);
            }
        });
        jScrollPane12.setViewportView(tblFinalProject);

        txt_search_name_.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        txt_search_name_.setForeground(new java.awt.Color(102, 102, 102));
        txt_search_name_.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txt_search_name_.setText("Search Project");
        txt_search_name_.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txt_search_name_MouseClicked(evt);
            }
        });
        txt_search_name_.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_search_name_KeyReleased(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(txt_search_name_, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane12, javax.swing.GroupLayout.DEFAULT_SIZE, 426, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(txt_search_name_, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane12, javax.swing.GroupLayout.PREFERRED_SIZE, 497, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout Project_Tertiary_Info_PanelLayout = new javax.swing.GroupLayout(Project_Tertiary_Info_Panel);
        Project_Tertiary_Info_Panel.setLayout(Project_Tertiary_Info_PanelLayout);
        Project_Tertiary_Info_PanelLayout.setHorizontalGroup(
            Project_Tertiary_Info_PanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(Project_Tertiary_Info_PanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane11, javax.swing.GroupLayout.PREFERRED_SIZE, 569, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(Project_Tertiary_Info_PanelLayout.createSequentialGroup()
                .addComponent(user_panel_hedding6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        Project_Tertiary_Info_PanelLayout.setVerticalGroup(
            Project_Tertiary_Info_PanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(Project_Tertiary_Info_PanelLayout.createSequentialGroup()
                .addComponent(user_panel_hedding6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(Project_Tertiary_Info_PanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane11, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(Project_Tertiary_Info_Panel, javax.swing.GroupLayout.PREFERRED_SIZE, 1073, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(Project_Tertiary_Info_Panel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
    }// </editor-fold>//GEN-END:initComponents

    private void txt_totalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_totalActionPerformed

    }//GEN-LAST:event_txt_totalActionPerformed

    private void txt_totalKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_totalKeyPressed

    }//GEN-LAST:event_txt_totalKeyPressed

    private void txt_totalKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_totalKeyReleased

    }//GEN-LAST:event_txt_totalKeyReleased

    private void txt_totalKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_totalKeyTyped

    }//GEN-LAST:event_txt_totalKeyTyped

    private void btn_to_secondary_projectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_to_secondary_projectActionPerformed
        Project_Secondery_Panel secondery_Panel = null;
        if (third != null) {
            try {
                secondery_Panel = new Project_Secondery_Panel(third.getProject_id());
            } catch (Exception ex) {
                Logger.getLogger(Project_Tertiary_Panel.class.getName()).log(Level.SEVERE, null, ex);
            }
        } else {
            try {
                secondery_Panel = new Project_Secondery_Panel();
            } catch (Exception ex) {
                Logger.getLogger(Project_Tertiary_Panel.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
        GUI_Home.load_panel.removeAll();
        GUI_Home.load_panel.repaint();
        GUI_Home.load_panel.revalidate();
        secondery_Panel.setSize(GUI_Home.load_panel.getSize());
        GUI_Home.load_panel.add(secondery_Panel);
        secondery_Panel.setVisible(true);
    }//GEN-LAST:event_btn_to_secondary_projectActionPerformed

    private void txt_boqActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_boqActionPerformed
        fieldFormat.formatDecimalAmount(txt_boq);
        getTotal();
        txt_exceed.requestFocus();
        fieldFormat.clearAmountField(txt_exceed);
    }//GEN-LAST:event_txt_boqActionPerformed

    private void txt_boqKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_boqKeyPressed
        Validation.priceText(txt_boq);
    }//GEN-LAST:event_txt_boqKeyPressed

    private void txt_boqKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_boqKeyReleased
        Validation.priceText(txt_boq);
    }//GEN-LAST:event_txt_boqKeyReleased

    private void txt_boqKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_boqKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_boqKeyTyped

    private void txt_vatPercentageActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_vatPercentageActionPerformed
        fieldFormat.formatDecimalAmount(txt_vatPercentage);
        getTotal();
        dp_take_over_date.requestFocus();
    }//GEN-LAST:event_txt_vatPercentageActionPerformed

    private void txt_vatPercentageKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_vatPercentageKeyPressed
        Validation.priceText(txt_vatPercentage);
    }//GEN-LAST:event_txt_vatPercentageKeyPressed

    private void txt_vatPercentageKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_vatPercentageKeyReleased
        Validation.priceText(txt_vatPercentage);
    }//GEN-LAST:event_txt_vatPercentageKeyReleased

    private void txt_req_periodActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_req_periodActionPerformed
        fieldFormat.formatDecimalAmount(txt_req_period);
        txt_approved_period.requestFocus();
    }//GEN-LAST:event_txt_req_periodActionPerformed

    private void txt_req_periodKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_req_periodKeyPressed
        Validation.priceText(txt_req_period);
    }//GEN-LAST:event_txt_req_periodKeyPressed

    private void txt_req_periodKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_req_periodKeyReleased
        Validation.priceText(txt_req_period);
    }//GEN-LAST:event_txt_req_periodKeyReleased

    private void txt_req_periodKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_req_periodKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_req_periodKeyTyped

    private void txt_approved_periodActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_approved_periodActionPerformed
        fieldFormat.formatDecimalAmount(txt_approved_period);
        cmb_Liquidity_Damage.requestFocus();
    }//GEN-LAST:event_txt_approved_periodActionPerformed

    private void txt_approved_periodKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_approved_periodKeyPressed
        Validation.priceText(txt_approved_period);
    }//GEN-LAST:event_txt_approved_periodKeyPressed

    private void txt_approved_periodKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_approved_periodKeyReleased
        Validation.priceText(txt_approved_period);
    }//GEN-LAST:event_txt_approved_periodKeyReleased

    private void txt_retain_amountActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_retain_amountActionPerformed
        fieldFormat.formatDecimalAmount(txt_retain_amount);
        txt_retain_organization.requestFocus();
    }//GEN-LAST:event_txt_retain_amountActionPerformed

    private void txt_retain_amountKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_retain_amountKeyPressed
        Validation.priceText(txt_retain_amount);
    }//GEN-LAST:event_txt_retain_amountKeyPressed

    private void txt_retain_amountKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_retain_amountKeyReleased
        Validation.priceText(txt_retain_amount);
    }//GEN-LAST:event_txt_retain_amountKeyReleased

    private void dp_retain_Valid_Period_FromActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dp_retain_Valid_Period_FromActionPerformed
        dp_retain_Valid_Period_To.requestFocus();
    }//GEN-LAST:event_dp_retain_Valid_Period_FromActionPerformed

    private void dp_retain_Valid_Period_ToActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dp_retain_Valid_Period_ToActionPerformed
        cmb_retention_release.requestFocus();
    }//GEN-LAST:event_dp_retain_Valid_Period_ToActionPerformed

    private void cmb_Liquidity_DamageActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmb_Liquidity_DamageActionPerformed
        cmbLiqDamageAction();
        if (cmb_Liquidity_Damage.getSelectedIndex() != 0) {
            txt_liquidityDamage_period.requestFocus();
        } else {
            cmb_Completion_Certification.requestFocus();
        }
    }//GEN-LAST:event_cmb_Liquidity_DamageActionPerformed

    private void cmb_retention_releaseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmb_retention_releaseActionPerformed
        cmbRetentionReleaseAction();
        txt_retain_releaseAmount.requestFocus();
        fieldFormat.clearAmountField(txt_retain_releaseAmount);
    }//GEN-LAST:event_cmb_retention_releaseActionPerformed

    private void txt_exceedActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_exceedActionPerformed
        fieldFormat.formatDecimalAmount(txt_exceed);
        getTotal();
        txt_extra_work.requestFocus();
        fieldFormat.clearAmountField(txt_extra_work);
    }//GEN-LAST:event_txt_exceedActionPerformed

    private void txt_exceedKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_exceedKeyPressed
        Validation.priceText(txt_exceed);
    }//GEN-LAST:event_txt_exceedKeyPressed

    private void txt_exceedKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_exceedKeyReleased
        Validation.priceText(txt_exceed);
    }//GEN-LAST:event_txt_exceedKeyReleased

    private void txt_exceedKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_exceedKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_exceedKeyTyped

    private void txt_extra_workActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_extra_workActionPerformed
        fieldFormat.formatDecimalAmount(txt_extra_work);
        getTotal();
        txt_price_excallation.requestFocus();
        fieldFormat.clearAmountField(txt_price_excallation);
    }//GEN-LAST:event_txt_extra_workActionPerformed

    private void txt_extra_workKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_extra_workKeyPressed
        Validation.priceText(txt_extra_work);
    }//GEN-LAST:event_txt_extra_workKeyPressed

    private void txt_extra_workKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_extra_workKeyReleased
        Validation.priceText(txt_extra_work);
    }//GEN-LAST:event_txt_extra_workKeyReleased

    private void txt_extra_workKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_extra_workKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_extra_workKeyTyped

    private void txt_price_excallationActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_price_excallationActionPerformed
        fieldFormat.formatDecimalAmount(txt_price_excallation);
        getTotal();
        txt_nbtPercentage.requestFocus();
        fieldFormat.clearAmountField(txt_vatPercentage);
    }//GEN-LAST:event_txt_price_excallationActionPerformed

    private void txt_price_excallationKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_price_excallationKeyPressed
        Validation.priceText(txt_price_excallation);
    }//GEN-LAST:event_txt_price_excallationKeyPressed

    private void txt_price_excallationKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_price_excallationKeyReleased
        Validation.priceText(txt_price_excallation);
    }//GEN-LAST:event_txt_price_excallationKeyReleased

    private void txt_price_excallationKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_price_excallationKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_price_excallationKeyTyped

    private void dp_take_over_dateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dp_take_over_dateActionPerformed
        fieldFormat.formatDecimalAmount(txt_vatPercentage);
        getTotal();
        dp_completed_date.requestFocus();
    }//GEN-LAST:event_dp_take_over_dateActionPerformed

    private void dp_completed_dateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dp_completed_dateActionPerformed
        dp_hand_over_date.requestFocus();
    }//GEN-LAST:event_dp_completed_dateActionPerformed

    private void dp_hand_over_dateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dp_hand_over_dateActionPerformed
        txt_req_period.requestFocus();
    }//GEN-LAST:event_dp_hand_over_dateActionPerformed

    private void cmb_Completion_CertificationActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmb_Completion_CertificationActionPerformed
        cmb_Retention.requestFocus();
    }//GEN-LAST:event_cmb_Completion_CertificationActionPerformed

    private void cmb_RetentionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmb_RetentionActionPerformed
        cmbRetentionAction();
        if (cmb_Retention.getSelectedIndex() != 0) {
            cmb_Retain_mode.requestFocus();
        } else {
            cmb_retention_release.requestFocus();
        }
    }//GEN-LAST:event_cmb_RetentionActionPerformed

    private void cmb_Retain_modeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmb_Retain_modeActionPerformed
        txt_retain_amount.requestFocus();
        fieldFormat.clearAmountField(txt_retain_amount);
    }//GEN-LAST:event_cmb_Retain_modeActionPerformed

    private void txt_retain_organizationActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_retain_organizationActionPerformed
        dp_retain_Valid_Period_From.requestFocus();
    }//GEN-LAST:event_txt_retain_organizationActionPerformed

    private void txt_retain_organizationKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_retain_organizationKeyPressed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_retain_organizationKeyPressed

    private void txt_retain_organizationKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_retain_organizationKeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_retain_organizationKeyReleased

    private void tblFinalProjectMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblFinalProjectMouseClicked

        searchByTableName();
        loadFeilsFromSearch();
        btn_save_third_project.setText("Update");
        txt_search_name_.setText("Search Project");
        txt_search_name_.setForeground(Color.GRAY);
        
    }//GEN-LAST:event_tblFinalProjectMouseClicked

    private void btn_save_third_projectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_save_third_projectActionPerformed
        updateThirdProject();
        loadProjectTable();
    }//GEN-LAST:event_btn_save_third_projectActionPerformed

    private void txt_liquidityDamage_periodActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_liquidityDamage_periodActionPerformed
        fieldFormat.formatDecimalAmount(txt_liquidityDamage_period);
        txt_liquidityDamage_amount.requestFocus();
        fieldFormat.clearAmountField(txt_liquidityDamage_amount);
    }//GEN-LAST:event_txt_liquidityDamage_periodActionPerformed

    private void txt_liquidityDamage_periodKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_liquidityDamage_periodKeyPressed
        Validation.priceText(txt_liquidityDamage_period);
    }//GEN-LAST:event_txt_liquidityDamage_periodKeyPressed

    private void txt_liquidityDamage_periodKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_liquidityDamage_periodKeyReleased
        Validation.priceText(txt_liquidityDamage_period);
    }//GEN-LAST:event_txt_liquidityDamage_periodKeyReleased

    private void txt_liquidityDamage_periodKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_liquidityDamage_periodKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_liquidityDamage_periodKeyTyped

    private void txt_liquidityDamage_amountActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_liquidityDamage_amountActionPerformed
        fieldFormat.formatDecimalAmount(txt_liquidityDamage_amount);
        cmb_Completion_Certification.requestFocus();
    }//GEN-LAST:event_txt_liquidityDamage_amountActionPerformed

    private void txt_liquidityDamage_amountKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_liquidityDamage_amountKeyPressed
        Validation.priceText(txt_liquidityDamage_amount);
    }//GEN-LAST:event_txt_liquidityDamage_amountKeyPressed

    private void txt_liquidityDamage_amountKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_liquidityDamage_amountKeyReleased
        Validation.priceText(txt_liquidityDamage_amount);
    }//GEN-LAST:event_txt_liquidityDamage_amountKeyReleased

    private void txt_retain_releaseAmountActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_retain_releaseAmountActionPerformed
        fieldFormat.formatDecimalAmount(txt_retain_releaseAmount);
        dp_retain_releaseDate.requestFocus();
    }//GEN-LAST:event_txt_retain_releaseAmountActionPerformed

    private void txt_retain_releaseAmountKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_retain_releaseAmountKeyPressed
        Validation.priceText(txt_retain_releaseAmount);
    }//GEN-LAST:event_txt_retain_releaseAmountKeyPressed

    private void txt_retain_releaseAmountKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_retain_releaseAmountKeyReleased
        Validation.priceText(txt_retain_releaseAmount);
    }//GEN-LAST:event_txt_retain_releaseAmountKeyReleased

    private void dp_retain_releaseDateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dp_retain_releaseDateActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_dp_retain_releaseDateActionPerformed

    private void cmb_current_statusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmb_current_statusActionPerformed
        txt_boq.requestFocus();
        fieldFormat.clearAmountField(txt_boq);
    }//GEN-LAST:event_cmb_current_statusActionPerformed

    private void txt_boqMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_boqMouseClicked
        getTotal();
        fieldFormat.clearAmountField(txt_boq);
    }//GEN-LAST:event_txt_boqMouseClicked

    private void txt_exceedMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_exceedMouseClicked
        fieldFormat.formatDecimalAmount(txt_boq);
        getTotal();
        fieldFormat.clearAmountField(txt_exceed);
    }//GEN-LAST:event_txt_exceedMouseClicked

    private void txt_extra_workMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_extra_workMouseClicked
        fieldFormat.formatDecimalAmount(txt_exceed);
        getTotal();
        fieldFormat.clearAmountField(txt_extra_work);
    }//GEN-LAST:event_txt_extra_workMouseClicked

    private void txt_price_excallationMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_price_excallationMouseClicked
        fieldFormat.formatDecimalAmount(txt_extra_work);
        getTotal();
        fieldFormat.clearAmountField(txt_price_excallation);
    }//GEN-LAST:event_txt_price_excallationMouseClicked

    private void txt_vatPercentageMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_vatPercentageMouseClicked
        fieldFormat.formatDecimalAmount(txt_price_excallation);
        getTotal();
        fieldFormat.clearAmountField(txt_vatPercentage);
    }//GEN-LAST:event_txt_vatPercentageMouseClicked

    private void txt_liquidityDamage_amountMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_liquidityDamage_amountMouseClicked
        fieldFormat.formatDecimalAmount(txt_liquidityDamage_period);
        fieldFormat.clearAmountField(txt_liquidityDamage_amount);
    }//GEN-LAST:event_txt_liquidityDamage_amountMouseClicked

    private void txt_retain_amountMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_retain_amountMouseClicked
        fieldFormat.clearAmountField(txt_retain_amount);
    }//GEN-LAST:event_txt_retain_amountMouseClicked

    private void txt_retain_releaseAmountMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_retain_releaseAmountMouseClicked
        fieldFormat.clearAmountField(txt_retain_releaseAmount);
    }//GEN-LAST:event_txt_retain_releaseAmountMouseClicked

    private void txt_totalMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_totalMouseClicked
        fieldFormat.formatDecimalAmount(txt_vatPercentage);
        getTotal();
    }//GEN-LAST:event_txt_totalMouseClicked

    private void dp_take_over_dateMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_dp_take_over_dateMouseClicked
        fieldFormat.formatDecimalAmount(txt_vatPercentage);
        getTotal();
    }//GEN-LAST:event_dp_take_over_dateMouseClicked

    private void cmb_Completion_CertificationMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cmb_Completion_CertificationMouseClicked
        fieldFormat.formatDecimalAmount(txt_liquidityDamage_amount);
    }//GEN-LAST:event_cmb_Completion_CertificationMouseClicked

    private void txt_retain_organizationMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_retain_organizationMouseClicked
        fieldFormat.formatDecimalAmount(txt_retain_amount);
    }//GEN-LAST:event_txt_retain_organizationMouseClicked

    private void dp_retain_releaseDateMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_dp_retain_releaseDateMouseClicked
        fieldFormat.formatDecimalAmount(txt_retain_releaseAmount);
    }//GEN-LAST:event_dp_retain_releaseDateMouseClicked

    private void txt_approved_periodMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_approved_periodMouseClicked
        fieldFormat.formatDecimalAmount(txt_req_period);
    }//GEN-LAST:event_txt_approved_periodMouseClicked

    private void cmb_Liquidity_DamageMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cmb_Liquidity_DamageMouseClicked
        fieldFormat.formatDecimalAmount(txt_approved_period);
    }//GEN-LAST:event_cmb_Liquidity_DamageMouseClicked

    private void txt_search_name_KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_search_name_KeyReleased
        try {
            dtmThird.setRowCount(0);
            List<M_Project_Primary> allPrimaryProjects = primaryController.getAllPrimaryProjectsByLetter(txt_search_name_.getText());
            for (M_Project_Primary allPrimaryProject : allPrimaryProjects) {
                String[] rowData = {allPrimaryProject.getProject_primary_name()};
                dtmThird.addRow(rowData);
            }
        } catch (Exception ex) {
            Logger.getLogger(Project_Tertiary_Panel.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_txt_search_name_KeyReleased

    private void txt_search_name_MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_search_name_MouseClicked
        txt_search_name_.setText("");
        txt_search_name_.setForeground(Color.BLACK);
    }//GEN-LAST:event_txt_search_name_MouseClicked

    private void btn_new_third_project1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_new_third_project1ActionPerformed
        clearFields();
        try {
            primaryController.releaseProject(third.getProject_id());
        } catch (Exception ex) {
            Logger.getLogger(Project_Tertiary_Panel.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_btn_new_third_project1ActionPerformed

    private void txt_vatMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_vatMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_vatMouseClicked

    private void txt_vatActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_vatActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_vatActionPerformed

    private void txt_vatKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_vatKeyPressed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_vatKeyPressed

    private void txt_vatKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_vatKeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_vatKeyReleased

    private void txt_nbtPercentageMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_nbtPercentageMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_nbtPercentageMouseClicked

    private void txt_nbtPercentageActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_nbtPercentageActionPerformed
        fieldFormat.formatDecimalAmount(txt_nbtPercentage);
        getTotal();
        txt_vatPercentage.requestFocus();
    }//GEN-LAST:event_txt_nbtPercentageActionPerformed

    private void txt_nbtPercentageKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_nbtPercentageKeyPressed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_nbtPercentageKeyPressed

    private void txt_nbtPercentageKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_nbtPercentageKeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_nbtPercentageKeyReleased

    private void txt_nbtMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txt_nbtMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_nbtMouseClicked

    private void txt_nbtActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_nbtActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_nbtActionPerformed

    private void txt_nbtKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_nbtKeyPressed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_nbtKeyPressed

    private void txt_nbtKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_nbtKeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_nbtKeyReleased


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel Project_Tertiary_Info_Panel;
    private javax.swing.JButton btn_new_third_project1;
    private javax.swing.JButton btn_save_third_project;
    private javax.swing.JButton btn_to_secondary_project;
    private javax.swing.JComboBox<String> cmb_Completion_Certification;
    private javax.swing.JComboBox<String> cmb_Liquidity_Damage;
    private javax.swing.JComboBox<String> cmb_Retain_mode;
    private javax.swing.JComboBox<String> cmb_Retention;
    private javax.swing.JComboBox<String> cmb_current_status;
    private javax.swing.JComboBox<String> cmb_retention_release;
    private org.jdesktop.swingx.JXDatePicker dp_completed_date;
    private org.jdesktop.swingx.JXDatePicker dp_hand_over_date;
    private org.jdesktop.swingx.JXDatePicker dp_retain_Valid_Period_From;
    private org.jdesktop.swingx.JXDatePicker dp_retain_Valid_Period_To;
    private org.jdesktop.swingx.JXDatePicker dp_retain_releaseDate;
    private org.jdesktop.swingx.JXDatePicker dp_take_over_date;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel122;
    private javax.swing.JLabel jLabel123;
    private javax.swing.JLabel jLabel124;
    private javax.swing.JLabel jLabel125;
    private javax.swing.JLabel jLabel126;
    private javax.swing.JLabel jLabel127;
    private javax.swing.JLabel jLabel128;
    private javax.swing.JLabel jLabel129;
    private javax.swing.JLabel jLabel139;
    private javax.swing.JLabel jLabel140;
    private javax.swing.JLabel jLabel141;
    private javax.swing.JLabel jLabel142;
    private javax.swing.JLabel jLabel146;
    private javax.swing.JLabel jLabel147;
    private javax.swing.JLabel jLabel148;
    private javax.swing.JLabel jLabel161;
    private javax.swing.JLabel jLabel162;
    private javax.swing.JLabel jLabel163;
    private javax.swing.JLabel jLabel164;
    private javax.swing.JLabel jLabel165;
    private javax.swing.JLabel jLabel166;
    private javax.swing.JLabel jLabel169;
    private javax.swing.JLabel jLabel170;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel82;
    private javax.swing.JLabel jLabel83;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane11;
    private javax.swing.JScrollPane jScrollPane12;
    private javax.swing.JSeparator jSeparator18;
    private javax.swing.JSeparator jSeparator28;
    private javax.swing.JSeparator jSeparator30;
    private javax.swing.JSeparator jSeparator32;
    private javax.swing.JSeparator jSeparator33;
    private javax.swing.JSeparator jSeparator34;
    private javax.swing.JLabel lblDamagePeriodMonth;
    private javax.swing.JLabel lbl_liq_damageAmount;
    private javax.swing.JLabel lbl_liq_damagePeriod;
    private javax.swing.JLabel lbl_projectName;
    private javax.swing.JLabel lbl_retention_amount;
    private javax.swing.JLabel lbl_retention_mode;
    private javax.swing.JLabel lbl_retention_releaseAmount;
    private javax.swing.JLabel lbl_retention_releaseDate;
    private javax.swing.JLabel lbl_retention_validFrom;
    private javax.swing.JLabel lbl_retention_validTo;
    private javax.swing.JLabel lbl_retenton_org;
    private javax.swing.JTable tblFinalProject;
    private javax.swing.JPanel txt_Input_Panel_Branch4;
    private javax.swing.JTextField txt_approved_period;
    private javax.swing.JTextField txt_boq;
    private javax.swing.JTextField txt_exceed;
    private javax.swing.JTextField txt_extra_work;
    private javax.swing.JTextField txt_liquidityDamage_amount;
    private javax.swing.JTextField txt_liquidityDamage_period;
    private javax.swing.JTextField txt_nbt;
    private javax.swing.JTextField txt_nbtPercentage;
    private javax.swing.JTextField txt_price_excallation;
    private javax.swing.JTextField txt_req_period;
    private javax.swing.JTextField txt_retain_amount;
    private javax.swing.JTextField txt_retain_organization;
    private javax.swing.JTextField txt_retain_releaseAmount;
    private javax.swing.JTextField txt_search_name_;
    private javax.swing.JTextField txt_total;
    private javax.swing.JTextField txt_vat;
    private javax.swing.JTextField txt_vatPercentage;
    private javax.swing.JPanel user_panel_hedding6;
    // End of variables declaration//GEN-END:variables

    private void loadProjectTable() {
        try {

            dtmThird.setRowCount(0);
            List<M_Project_Third> allThirds = thirdController.getAllThirds();
            for (M_Project_Third allThird : allThirds) {
                String[] rowData = {primaryController.searchPrimaryProject(allThird.getProject_id()).getProject_primary_name()};
                dtmThird.addRow(rowData);
            }

        } catch (Exception ex) {
            Logger.getLogger(Project_Tertiary_Panel.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    private void loadFeilsFromSearch() {
        clearFields();
        try {
            if(primaryController.reserveProject(third.getProject_id())){
            lbl_projectName.setText(primaryController.searchPrimaryProject(third.getProject_id()).getProject_primary_name());
            }else{
                JOptionPane.showMessageDialog(this, "This Project is Using by Another Machine.. \n Try Again in a Moment.");
                return;
            }
        } catch (Exception ex) {
            Logger.getLogger(Project_Tertiary_Panel.class.getName()).log(Level.SEVERE, null, ex);
        }

        txt_boq.setText(decimalFormat.format(third.getProject_final_boq()));
        txt_exceed.setText(decimalFormat.format(third.getProject_final_exceed()));
        txt_extra_work.setText(decimalFormat.format(third.getProject_final_extraWork()));
        txt_price_excallation.setText(decimalFormat.format(third.getProject_final_priceEscallation()));
        txt_vatPercentage.setText(decimalFormat.format(third.getProject_final_vat()));
        txt_total.setText(decimalFormat.format(third.getProject_final_boq() + third.getProject_final_exceed() + third.getProject_final_extraWork() + third.getProject_final_priceEscallation() + third.getProject_final_vat()));

        txt_liquidityDamage_amount.setText(decimalFormat.format(third.getProject_final_liquidityDamageAmount()));

        txt_retain_amount.setText(decimalFormat.format(third.getProject_final_retentionAmount()));
        txt_retain_organization.setText(third.getProject_final_retentionOrganization());

        txt_retain_releaseAmount.setText(decimalFormat.format(third.getProject_final_retentionReleaseAmount()));

        cmb_current_status.setSelectedIndex(Integer.parseInt(third.getProject_final_currentStatus()));

        if (third.getProject_final_boq() != 0) {
            cmb_Liquidity_Damage.setSelectedIndex(Integer.parseInt(third.getProject_final_liquidityDamage()));
            cmb_Completion_Certification.setSelectedIndex(Integer.parseInt(third.getProject_final_completionCertification()));
            cmb_Retention.setSelectedIndex(Integer.parseInt(third.getProject_final_retention()));
            cmb_Retain_mode.setSelectedIndex(Integer.parseInt(third.getProject_final_retentionMode()));
            cmb_retention_release.setSelectedIndex(Integer.parseInt(third.getProject_final_retentionRelease()));
            dp_take_over_date.setDate(third.getProject_final_takeOverDate());
            dp_completed_date.setDate(third.getProject_final_completeDate());
            dp_hand_over_date.setDate(third.getProject_final_handOverDate());
            dp_retain_Valid_Period_From.setDate(third.getProject_final_retentionPeriodFrom());
            dp_retain_Valid_Period_To.setDate(third.getProject_final_retentionPeriodTo());
            dp_retain_releaseDate.setDate(third.getProject_final_retentionReleaseDate());
            if(!"".equals(third.getProject_final_timeExtentionRequestPeriod())){
            txt_req_period.setText(decimalFormat.format(Double.parseDouble(third.getProject_final_timeExtentionRequestPeriod())));
            }
            if(!"".equals(third.getProject_final_timeExtentionApprovedPeriod())){
            txt_approved_period.setText(decimalFormat.format(Double.parseDouble(third.getProject_final_timeExtentionApprovedPeriod())));
            }
            if(!"".equals(third.getProject_final_liquidityDamagePeriod())){
            txt_liquidityDamage_period.setText(decimalFormat.format(Double.parseDouble(third.getProject_final_liquidityDamagePeriod())));
            }
        } else {
            cmb_Liquidity_Damage.setSelectedIndex(0);
            cmb_Completion_Certification.setSelectedIndex(0);
            cmb_Retention.setSelectedIndex(0);
            cmb_Retain_mode.setSelectedIndex(0);
            cmb_retention_release.setSelectedIndex(0);
            dp_take_over_date.setDate(new Date());
            dp_completed_date.setDate(new Date());
            dp_hand_over_date.setDate(new Date());
            dp_retain_Valid_Period_From.setDate(new Date());
            dp_retain_Valid_Period_To.setDate(new Date());
            dp_retain_releaseDate.setDate(new Date());
            txt_req_period.setText("");
            txt_approved_period.setText("");
            txt_liquidityDamage_period.setText("");
        }
        
        btn_save_third_project.setEnabled(true);
    }

    private void searchByTableName() {
        int selRow = tblFinalProject.getSelectedRow();
        String name = (String) dtmThird.getValueAt(selRow, 0);
        try {
            third = thirdController.searchThird(name);
            if (Project_Primary_Panel.projectIdPub != third.getProject_id()) {
                primaryController.releaseProject(Project_Primary_Panel.projectIdPub);
            }
            Project_Primary_Panel.projectIdPub = third.getProject_id();
        } catch (Exception ex) {
            Logger.getLogger(Project_Tertiary_Panel.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
    
    private void updateThirdProject() {
        double finalBOQ = 0;
        double exeed = 0;
        double extraWork = 0;
        double escallation = 0;
        double finalVat = 0;
        double liqDamageAmount = 0;
        double retentionAmount = 0;
        double retentionReleaseAmount = 0;

        int projectId = third.getProject_id();
        if (!"".equals(txt_boq.getText())) {
            finalBOQ = Double.parseDouble(txt_boq.getText().replaceAll(",", ""));
        } else {
            finalBOQ = 0;
        }
        if (!"".equals(txt_exceed.getText())) {
            exeed = Double.parseDouble(txt_exceed.getText().replaceAll(",", ""));
        } else {
            exeed = 0;
        }
        if (!"".equals(txt_extra_work.getText())) {
            extraWork = Double.parseDouble(txt_extra_work.getText().replaceAll(",", ""));
        } else {
            extraWork = 0;
        }
        if (!"".equals(txt_price_excallation.getText())) {
            escallation = Double.parseDouble(txt_price_excallation.getText().replaceAll(",", ""));
        } else {
            escallation = 0;
        }
        if (!"".equals(txt_vatPercentage.getText())) {
            finalVat = Double.parseDouble(txt_vatPercentage.getText().replaceAll(",", ""));
        } else {
            finalVat = 0;
        }
        Date takeOverDate = dp_take_over_date.getDate();
        Date completeDate = dp_completed_date.getDate();
        Date handOverDate = dp_hand_over_date.getDate();
        String reqExtention = txt_req_period.getText();
        String approvedPeriod = txt_approved_period.getText();
        String liqDamage = Integer.toString(cmb_Liquidity_Damage.getSelectedIndex());
        String liqDamagePeriod = txt_liquidityDamage_period.getText();
        if (!"".equals(txt_liquidityDamage_amount.getText())) {
            liqDamageAmount = Double.parseDouble(txt_liquidityDamage_amount.getText().replaceAll(",", ""));
        } else {
            liqDamageAmount = 0;
        }
        String certification = Integer.toString(cmb_Completion_Certification.getSelectedIndex());
        String retention = Integer.toString(cmb_Retention.getSelectedIndex());
        String retentionMode = Integer.toString(cmb_Retain_mode.getSelectedIndex());
        if (!"".equals(txt_retain_amount.getText())) {
            retentionAmount = Double.parseDouble(txt_retain_amount.getText().replaceAll(",", ""));
        } else {
            retentionAmount = 0;
        }
        String retentionOrg = txt_retain_organization.getText();
        Date retentionFrom = dp_retain_Valid_Period_From.getDate();
        Date retentionTo = dp_retain_Valid_Period_To.getDate();
        String retentionRelease = Integer.toString(cmb_retention_release.getSelectedIndex());
        if (!"".equals(txt_retain_releaseAmount.getText())) {
            retentionReleaseAmount = Double.parseDouble(txt_retain_releaseAmount.getText().replaceAll(",", ""));
        } else {
            retentionReleaseAmount = 0;
        }
        Date retentonReleaseDate = dp_retain_releaseDate.getDate();
        String finalStatus = Integer.toString(cmb_current_status.getSelectedIndex());
        String currentStatus = Integer.toString(cmb_current_status.getSelectedIndex());

        M_Project_Third thirdUpdate = new M_Project_Third(projectId, finalBOQ, exeed, extraWork, escallation, finalVat, takeOverDate, completeDate, handOverDate, reqExtention, approvedPeriod, liqDamage, liqDamagePeriod, liqDamageAmount, certification, retention, retentionMode, retentionAmount, retentionOrg, retentionFrom, retentionTo, retentionRelease, retentionReleaseAmount, retentonReleaseDate, finalStatus, currentStatus);
        try {
            boolean updateThirdProject = thirdController.updateThirdProject(thirdUpdate);
            if (updateThirdProject) {
                JOptionPane.showMessageDialog(this, "Final Project Information Updated Successfully..");
                clearFields();
                primaryController.releaseProject(projectId);
            } else {
                JOptionPane.showMessageDialog(this, "Updating Final Information was Failed..");
            }
        } catch (Exception ex) {
            Logger.getLogger(Project_Tertiary_Panel.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    private void getTotal() {
        double boq = 0;
        double exeed = 0;
        double extra = 0;
        double escal = 0;
        double nbtPerc = 0;
        double nbt = 0;
        double vatPerc = 0;
        double vat = 0;

        if (!"".equals(txt_boq.getText())) {
            boq = Double.parseDouble(txt_boq.getText().replaceAll(",", ""));
        }
        if (!"".equals(txt_exceed.getText())) {
            exeed = Double.parseDouble(txt_exceed.getText().replaceAll(",", ""));
        }
        if (!"".equals(txt_extra_work.getText())) {
            extra = Double.parseDouble(txt_extra_work.getText().replaceAll(",", ""));
        }
        if (!"".equals(txt_price_excallation.getText())) {
            escal = Double.parseDouble(txt_price_excallation.getText().replaceAll(",", ""));
        }
        double preTot = boq + exeed + extra + escal;
        if (!"".equals(txt_nbtPercentage.getText())) {
            nbtPerc = Double.parseDouble(txt_nbtPercentage.getText().replaceAll(",", ""));
        }
        nbt = (preTot * nbtPerc)/100;
        txt_nbt.setText(decimalFormat.format(nbt));
        
        if (!"".equals(txt_vatPercentage.getText())) {
            vatPerc = Double.parseDouble(txt_vatPercentage.getText().replaceAll(",", ""));
        }
        vat = ((preTot + nbt)*vatPerc)/100;
        txt_vat.setText(decimalFormat.format(vat));
        
        txt_total.setText(decimalFormat.format(preTot + nbt + vat));
    }

    private void cmbRetentionAction() {
        if (cmb_Retention.getSelectedIndex() == 0) {
            lbl_retention_mode.setVisible(false);
            cmb_Retain_mode.setVisible(false);
            lbl_retention_amount.setVisible(false);
            txt_retain_amount.setVisible(false);
            lbl_retenton_org.setVisible(false);
            txt_retain_organization.setVisible(false);
            lbl_retention_validFrom.setVisible(false);
            dp_retain_Valid_Period_From.setVisible(false);
            lbl_retention_validTo.setVisible(false);
            dp_retain_Valid_Period_To.setVisible(false);
        } else {
            lbl_retention_mode.setVisible(true);
            cmb_Retain_mode.setVisible(true);
            lbl_retention_amount.setVisible(true);
            txt_retain_amount.setVisible(true);
            lbl_retenton_org.setVisible(true);
            txt_retain_organization.setVisible(true);
            lbl_retention_validFrom.setVisible(true);
            dp_retain_Valid_Period_From.setVisible(true);
            lbl_retention_validTo.setVisible(true);
            dp_retain_Valid_Period_To.setVisible(true);
        }
    }

    private void cmbRetentionReleaseAction() {
        if (cmb_retention_release.getSelectedIndex() == 0) {
            lbl_retention_releaseAmount.setVisible(false);
            txt_retain_releaseAmount.setVisible(false);
            lbl_retention_releaseDate.setVisible(false);
            dp_retain_releaseDate.setVisible(false);
        } else {
            lbl_retention_releaseAmount.setVisible(true);
            txt_retain_releaseAmount.setVisible(true);
            lbl_retention_releaseDate.setVisible(true);
            dp_retain_releaseDate.setVisible(true);
        }
    }

    private void cmbLiqDamageAction() {
        if (cmb_Liquidity_Damage.getSelectedItem().toString().equalsIgnoreCase("NOT APPLICABLE")) {
            lbl_liq_damagePeriod.setVisible(false);
            txt_liquidityDamage_period.setVisible(false);
            lblDamagePeriodMonth.setVisible(false);
            lbl_liq_damageAmount.setVisible(false);
            txt_liquidityDamage_amount.setVisible(false);
        } else {
            lbl_liq_damagePeriod.setVisible(true);
            txt_liquidityDamage_period.setVisible(true);
            lblDamagePeriodMonth.setVisible(true);
            lbl_liq_damageAmount.setVisible(true);
            txt_liquidityDamage_amount.setVisible(true);
        }
    }

    private void clearFields() {
        cmb_current_status.setSelectedIndex(0);
        txt_boq.setText("");
        txt_exceed.setText("");
        txt_extra_work.setText("");
        txt_price_excallation.setText("");
        txt_vatPercentage.setText("");
        txt_total.setText("");
        dp_take_over_date.setDate(new Date());
        dp_completed_date.setDate(new Date());
        dp_hand_over_date.setDate(new Date());
        txt_req_period.setText("");
        txt_approved_period.setText("");
        cmb_Liquidity_Damage.setSelectedIndex(0);
        txt_liquidityDamage_period.setText("");
        txt_liquidityDamage_amount.setText("");
        cmb_Completion_Certification.setSelectedIndex(0);        
        cmb_Retention.setSelectedIndex(0);
        cmb_Retain_mode.setSelectedIndex(0);
        txt_retain_amount.setText("");
        txt_retain_organization.setText("");
        dp_retain_Valid_Period_From.setDate(new Date());
        dp_retain_Valid_Period_To.setDate(new Date());
        cmb_retention_release.setSelectedIndex(0);
        txt_retain_releaseAmount.setText("");
        dp_retain_releaseDate.setDate(new Date());
        txt_boq.requestFocus();
        btn_save_third_project.setEnabled(false);
    }
}
